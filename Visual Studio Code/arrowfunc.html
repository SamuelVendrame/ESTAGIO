<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
        const livros = [
                {id: 1, titulo: "Amor", autor: "Joelho", ano: 2025},
                {id: 2, titulo: "História", autor: "João", ano: 2013},
                {id: 3, titulo: "Covarde", autor: "Gabriel", ano: 2018}
        ]

        function buscarLivroPorId(x){
                x = prompt("Digite o número do livro")
                x = parseInt(x) ///// Pegando o valor do livro por inserção em ALERT (numero)
                for(let i = 0; i < livros.length; i++){ //// Loop utilizado para andar conforme a lista de livros e seleção via ID, com livros.LENGTH
                    if(livros[i].id === x){ // usando I como índex juntamente ao ID, e comparando-o com a inserção
                    console.log(livros[i]) // printa os valores do livro escolhido
                    
                    }
                }
            }

            
            function buscarLivroPorTitulo(titulo){
                buscar = false
                tituloBuscado = prompt("Digite o titulo do livro para buscarmos")
                for(let livro of livros){
                    if(livro.titulo === tituloBuscado){
                        console.log("Livro encontrado! ")
                        console.log("Livro: ", livro.autor, " Ano: ", livro.ano)
                        buscar = true
                        break
                        }
                    }
                    if(!buscar){
                        console.log("Livro não encontrado.")
                    }
                   
            }

            function buscarLivroPorAutor(){
                inputAutor = prompt("Digite o autor para pesquisarmos")
                let encontrado = false

                for(let obj of livros){ // Nesse caso, como estou procurando objeto num array, o ideal é sempre fazer isto, como no código:
                    if(obj.autor === inputAutor){
                        console.log("Autor encontrado!")
                        console.log("Livro: ", obj.titulo, " Ano: ", obj.ano)
                        encontrado = true
                        break
                    }
                }
                if(!encontrado){
                    console.log("Autor não encontrado.")
                }
            }

  
            function inserirLivro(){
                let titulo = prompt("Digite o nome do novo livro a ser inserido")
                let autor = prompt("Digite o nome do autor do novo livro a ser inserido")
                let ano = prompt("Digite o ano do novo livro a ser inserido")

                let maiorId = 0
                for(let contandoId of livros){
                    if(contandoId.id > maiorId){
                        maiorId = contandoId.id
                    }
                }

                 
                const novoLivro = {
                    id: maiorId + 1,
                    titulo: titulo,
                    autor: autor,
                    ano: ano
                }
                
                livros.push(novoLivro)
                console.log(livros)

            }

           function deletarLivro(){
            const idParaDeletar = parseInt(prompt("Digite o ID do livro a ser deletado"))
            let indice = livros.findIndex(livros => livros.id === idParaDeletar)
            if(indice < 0){
                console.log("Indice inexistente.")
            }
            else{
            livros.splice(indice, 1)
            console.log("Livro deletado via ID.")
            console.log(livros)
            }
           }

           function atualizarLivro(){
           const idParaAtualizar = parseInt(prompt("Digite o ID do livro a ser atualizado"))
           let indice = livros.findIndex(livros => livros.id === idParaAtualizar)
            if(indice < 0){
                console.log("Indice inexistente.")
                return
            }
        

            let novoNome = prompt("Digite o novo NOME do livro.")
            livros[indice].titulo = novoNome
            let novoAutor = prompt("Digite o nome do novo AUTOR")
            livros[indice].autor = novoAutor
            let novoAno = parseInt(prompt("Digite o novo ANO do livro"))
            livros[indice].ano = novoAno 
            let novoID = parseInt(prompt("Digite o novo ID do livro"))
            livros[indice].id = novoID
           }

           atualizarLivro()
           console.log(livros)
    </script>

</body>
</html>